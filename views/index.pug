extends layout
block content
  div.content-container
    div.title-container
      h1 IS-218 Oppgave 2
      p Gruppe 10
    div.button-container
      div.layer-controls
        div.layer-control-item
          input(type="checkbox", id="shelter-checkbox", checked)
          label(for="shelter-checkbox") 
            | Alternativt tilfluktsrom
            img(src="/assets/tent-7-svgrepo-com.svg", alt="Shelter", style="width: 20px; height: 20px; vertical-align: middle; margin-left: 4px;")
        div.layer-control-item
          input(type="checkbox", id="bunker-checkbox", checked)
          label(for="bunker-checkbox") 
            | Offentlig Tilfluktsrom
            img(src="/assets/bunker-svgrepo-com-3.svg", alt="Tilfluktsrom", style="width: 20px; height: 20px; vertical-align: middle; margin-left: 4px;")
        div.layer-control-item
          input(type="checkbox", id="position-checkbox", checked)
          label(for="position-checkbox") 
            | Min posisjon
            img(src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png", alt="Min posisjon", style="width: 12px; height: 20px; vertical-align: middle; margin-left: 4px;")
        div.layer-control-item
          input(type="checkbox", id="custom-checkbox", checked)
          label(for="custom-checkbox") 
            | Valgt posisjon
            img(src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png", alt="Valgt posisjon", style="width: 12px; height: 20px; vertical-align: middle; margin-left: 4px;")
        div.layer-control-item
          input(type="checkbox", id="route-checkbox", checked)
          label(for="route-checkbox") Ruter (Blå/Rød)
        div.layer-control-item
          input(type="checkbox", id="population-checkbox", checked)
          label(for="population-checkbox") Befolkning
    div.map-container
      div#map
    
    div.analysis-container(style="margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);")
      h3(style="margin-bottom: 10px;") Befolkning og Kapasitetsanalyse
      p#analysis-info Tegn et område på kartet for å analysere befolkning og tilfluktsromkapasitet.
      div#analysis-results(style="display: none;")
        div(style="display: flex; justify-content: space-between; margin-top: 10px;")
          div(style="flex: 1; padding: 10px; background-color: #e9f5ff; border-radius: 4px; margin-right: 10px;")
            h4 Befolkning
            p#population-count 0 personer
          div(style="flex: 1; padding: 10px; background-color: #e9fff5; border-radius: 4px; margin-right: 10px;")
            h4 Tilfluktsromskapasitet
            p#shelter-capacity 0 plasser
          div(style="flex: 1; padding: 10px; background-color: #fff9e9; border-radius: 4px;")
            h4 Dekningsgrad
            p#coverage-percentage 0%
      button#clear-analysis(style="margin-top: 15px; padding: 8px 15px; background-color: #f0f0f0; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;") Fjern analyse
        
    div.info-container
      div.left
        h3 Overskrift venstre
        p Går an åå skrive noe om oppgaven på denne siden
      div.right
        h3 Overskrift høyre
        p Går an å skrive noe ANNET om oppgaven på denne siden
  script.
    window.shelterData = !{shelterData || 'null'};
    window.bunkerData = !{bunkerData || 'null'};
    window.populationData = !{populationData || 'null'};
  script(
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  )
  script(src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js" crossorigin="")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.8.0/proj4.js")
  script(src='/js/main.js' type='module')